const dataCar = [
    {
        id: "Crossover",
        ad: "Hyundai Kona 2022",
        img: "https://getcarrental.com/assets/images/hyundai-kona-2021-get-rent-a-car.png",
        priceOne: "95",
        priceTwo: "90",
        priceThree: "80",
        gasoline: "2.0L"
    },
    {
        id: "Crossover",
        ad: "Hyundai Tucson 2021",
        img: "https://getcarrental.com/assets/images/hyundai-tucson-2021-get-rent-a-car.png",
        priceOne: "100",
        priceTwo: "90",
        priceThree: "80",
        gasoline: "2.0L"

    },
    {
        id: "Crossover",
        ad: "Kia Sportage 2021",
        img: "https://getcarrental.com/assets/images/kia-sportage-2021-get-rent-a-car.png",
        priceOne: "120",
        priceTwo: "105",
        priceThree: "90",
        gasoline: "2.0L"

    },
    {
        id: "Crossover",
        ad: "Hyundai Tucson 2023",
        img: "https://getcarrental.com/assets/images/hyundai-tucson-2023-get-rent-a-car.png",
        priceOne: "145",
        priceTwo: "130",
        priceThree: "100",
        gasoline: "2.0L"

    },
    {
        id: "Crossover",
        ad: "Kia Sportage 2023",
        img: "https://getcarrental.com/assets/images/kia-sportage-2023-get-rent-a-car.png",
        priceOne: "145",
        priceTwo: "130",
        priceThree: "100",
        gasoline: "2.0L"

    },
    {
        id: "Crossover",
        ad: "Hyundai Santa Fe 2022",
        img: "https://getcarrental.com/assets/images/hyundai-santafe-2021-get-rent-a-car.png",
        priceOne: "150",
        priceTwo: "130",
        priceThree: "120",
        gasoline: "2.5L"

    },
    {
        id: "Crossover",
        ad: "Kia Sorento 2023",
        img: "https://getcarrental.com/assets/images/kia-sorento-2023-get-rent-a-car.png",
        priceOne: "175",
        priceTwo: "160",
        priceThree: "130",
        gasoline: "2.5L"

    },
    {
        id: "Crossover",
        ad: "Hyundai Venue 2022",
        img: "https://getcarrental.com/assets/images/hyundai-venue-2022.png",
        priceOne: "90",
        priceTwo: "85",
        priceThree: "70",
        gasoline: "1.6L"

    },
    {
        id: "Economy",
        ad: "Kia Cerato 2016",
        img: "https://getcarrental.com/assets/images/kia-cerato-2016-get-rent-a-car.png",
        priceOne: "65",
        priceTwo: "60",
        priceThree: "45",
        gasoline: "1.8L"

    },
    {
        id: "Economy",
        ad: "Kia Forte 2018",
        img: "https://getcarrental.com/assets/images/kia-forte-2018-get-rent-a-car.png",
        priceOne: "70",
        priceTwo: "65",
        priceThree: "55",
        gasoline: "2.0L"

    },
    {
        id: "Economy",
        ad: "Hyundai Elantra 2018",
        img: "https://getcarrental.com/assets/images/hyundai-elantra-2018-get-rent-a-car.png",
        priceOne: "70",
        priceTwo: "65",
        priceThree: "55",
        gasoline: "2.0L"

    },
    {
        id: "Economy",
        ad: "Kia Rio 2021",
        img: "https://getcarrental.com/assets/images/kia-rio-2021-get-rent-a-car.png",
        priceOne: "75",
        priceTwo: "70",
        priceThree: "55",
        gasoline: "2.0L"

    },
    {
        id: "Economy",
        ad: "Hyundai Accent 2021",
        img: "https://getcarrental.com/assets/images/hyundai-accent-2021-get-rent-a-car.png",
        priceOne: "75",
        priceTwo: "70",
        priceThree: "55",
        gasoline: "1.5L"

    },
    {
        id: "Economy",
        ad: "Hyundai Elantra 2020",
        img: "https://getcarrental.com/assets/images/hyundai-elantra-2020-get-rent-a-car.png",
        priceOne: "80",
        priceTwo: "75",
        priceThree: "60",
        gasoline: "1.8L"

    },
    {
        id: "Economy",
        ad: "Hyundai Elantra 2023",
        img: "https://getcarrental.com/assets/images/hyundai-elantra-2023-get-rent-a-car.png",
        priceOne: "95",
        priceTwo: "85",
        priceThree: "75",
        gasoline: "1.6L"

    },
    {
        id: "Economy",
        ad: "Toyota Corolla 2018",
        img: "https://getcarrental.com/assets/images/toyota-corolla-2018-get-rent-a-car.png",
        priceOne: "90",
        priceTwo: "80",
        priceThree: "75",
        gasoline: "1.6L"

    },
    {
        id: "Economy",
        ad: "Toyota Corolla 2023",
        img: "https://getcarrental.com/assets/images/toyota-corolla-2023-get-rent-a-car.png",
        priceOne: "110",
        priceTwo: "100",
        priceThree: "85",
        gasoline: "1.6L"

    },
    {
        id: "Business",
        ad: "Hyundai Sonata 2017",
        img: "https://getcarrental.com/assets/images/hyundai-sonata-2017-white-get-rent-a-car.png",
        priceOne: "80",
        priceTwo: "75",
        priceThree: "65",
        gasoline: "2.4L"

    },
    {
        id: "Business",
        ad: "Kia Optima 2018",
        img: "https://getcarrental.com/assets/images/kia-optima-2018-get-rent-a-car.png",
        priceOne: "90",
        priceTwo: "85",
        priceThree: "75",
        gasoline: "2.0L"

    },
    {
        id: "Business",
        ad: "Hyundai Sonata 2023",
        img: "https://getcarrental.com/assets/images/hyundai-sonata-2022-get-rent-a-car.png",
        priceOne: "145",
        priceTwo: "135",
        priceThree: "95",
        gasoline: "2.0L"

    },
    {
        id: "Business",
        ad: "Kia K5 2023",
        img: "https://getcarrental.com/assets/images/hyundai-sonata-2022-get-rent-a-car.png",
        priceOne: "145",
        priceTwo: "135",
        priceThree: "95",
        gasoline: "1.6L"

    },
    {
        id: "Business",
        ad: "Toyota Camry 2022",
        img: "https://getcarrental.com/assets/images/toyota-camry-2021-get-rent-a-car.png",
        priceOne: "145",
        priceTwo: "135",
        priceThree: "100",
        gasoline: "2.5L"

    },
    {
        id: "Premium",
        ad: "Hyundai Staria 2024",
        img: "https://getcarrental.com/assets/images/hyundai-staria-2022-get-rent-a-car.png",
        priceOne: "190",
        priceTwo: "170",
        priceThree: "150",
        gasoline: "2.5L"

    },
    {
        id: "Premium",
        ad: "Mercedes Benz V-class 2019",
        img: "https://getcarrental.com/assets/images/mercedes-v-class-2019-get-rent-a-car.png",
        priceOne: "250",
        priceTwo: "230",
        priceThree: "180",
        gasoline: "2.0L"

    },
    {
        id: "Premium",
        ad: "Ford Mustang 2020",
        img: "https://getcarrental.com/assets/images/ford-mustang-2020-get-rent-a-car.png",
        priceOne: "250",
        priceTwo: "240",
        priceThree: "160",
        gasoline: "2.3L"

    },
    {
        id: "Premium",
        ad: "BMW G30 5 series 2020",
        img: "https://getcarrental.com/assets/images/bmw-g30-get-rent-a-car-2.png",
        priceOne: "250",
        priceTwo: "220",
        priceThree: "150",
        gasoline: "2.0L"

    },
    {
        id: "Premium",
        ad: "Range Rover Vogue 2017",
        img: "https://getcarrental.com/assets/images/range-rover-vogue-2017-get-rent-a-car.png",
        priceOne: "300",
        priceTwo: "280",
        priceThree: "210",
        gasoline: "3.0L"

    },
    {
        id: "Premium",
        ad: "BMW X5 2022",
        img: "https://getcarrental.com/assets/images/bmw-x5-2022-get-rent-a-car-2.png",
        priceOne: "350",
        priceTwo: "320",
        priceThree: "250",
        gasoline: "3.0L"

    },
    {
        id: "Premium",
        ad: "Mercedes Benz S-class 2019",
        img: "https://getcarrental.com/assets/images/mercedes-s-class-2017-get-rent-a-car.png",
        priceOne: "350",
        priceTwo: "330",
        priceThree: "250",
        gasoline: "3.5L"

    },
    {
        id: "Premium",
        ad: "BMW X7 2022",
        img: "https://getcarrental.com/assets/images/bmw-x7-get-rent-a-car-2.png",
        priceOne: "450",
        priceTwo: "400",
        priceThree: "300",
        gasoline: "3.0L"

    },
    {
        id: "Premium",
        ad: "Range Rover Vogue 2021",
        img: "https://getcarrental.com/assets/images/range-rover-vogue-2020-get-rent-a-car.png",
        priceOne: "450",
        priceTwo: "420",
        priceThree: "300",
        gasoline: "3.0L"

    },
    {
        id: "Premium",
        ad: "Land Rover Defender 2023",
        img: "https://getcarrental.com/assets/images/land-rover-defender-2023.png",
        priceOne: "450",
        priceTwo: "420",
        priceThree: "350",
        gasoline: "2.0L"

    },
    {
        id: "Suv",
        ad: "Toyota Prado 2015-2018",
        img: "https://getcarrental.com/assets/images/toyota-prado-2015-get-rent-a-car.png",
        priceOne: "125",
        priceTwo: "120",
        priceThree: "110",
        gasoline: "2.7L"

    },
    {
        id: "Suv",
        ad: "Toyota Land Cruiser 2015",
        img: "https://getcarrental.com/assets/images/land-crusier-2015-get-rent-a-car.png",
        priceOne: "150",
        priceTwo: "140",
        priceThree: "125",
        gasoline: "4.0L"

    },
    {
        id: "Suv",
        ad: "Mitsubishi Pajero Sport 2022",
        img: "https://getcarrental.com/assets/images/pajero-sport-2022-get-rent-a-car.png",
        priceOne: "170",
        priceTwo: "160",
        priceThree: "130",
        gasoline: "3.0L"

    },
    {
        id: "Suv",
        ad: "Toyota Prado 2020",
        img: "https://getcarrental.com/assets/images/toyota-prado-2020-get-rent-a-car.png",
        priceOne: "220",
        priceTwo: "200",
        priceThree: "170",
        gasoline: "2.7L"

    },

]

const car_card = document.querySelector(".car-grid");
const loadMoreBtn = document.getElementById("loadMoreBtn");
const buttons = document.querySelectorAll(".hero_btn button");

let visibleCount = 8;
let currentList = dataCar;

function renderCars(list, limit = list.length) {
    car_card.innerHTML = "";

    list.slice(0, limit).forEach(car => {
        const carDiv = document.createElement("div");
        carDiv.classList.add("car-info");

        carDiv.innerHTML = `
            <img src="${car.img}" alt="${car.ad}">
            <h3>${car.ad}</h3>
            <div class="car-specs">
                <span><i class="fa-solid fa-gear"></i> Automatic</span>
                <span><i class="fa-solid fa-gas-pump"></i> Gasoline</span>
                <span><i class="fa-solid fa-oil-can"></i> ${car.gasoline}</span>
            </div>
            <div class="prices">
                <span>2–7 days <b>${car.priceOne} AZN</b></span>
                <span>8–20 days <b>${car.priceTwo} AZN</b></span>
                <span>21+ days <b>${car.priceThree} AZN</b></span>
            </div>
            <div class="actions">
                <button class="call"><a href="#"><i class="fa-solid fa-phone"></i> Call</a></button>
                <button class="whatsapp"><a href="#"><i class="fa-brands fa-whatsapp"></i> WhatsApp</a></button>
            </div>
            <button class="details">More details</button>
        `;

        // Detail button click event
        const detailsBtn = carDiv.querySelector(".details");
        detailsBtn.addEventListener("click", () => {
            // Maşın məlumatlarını localStorage-a yaz
            localStorage.setItem("rentedCar", JSON.stringify(car));

            // rented.html səhifəsinə yönləndir
            window.location.href = "rented.html";
        });

        car_card.appendChild(carDiv);
    });
}



function scrollToCars() {
    document.getElementById("carsSection").scrollIntoView({
        behavior: "smooth",
        block: "start"
    });
}


function setActive(btn) {
    buttons.forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
}

loadMoreBtn.addEventListener("click", () => {
    visibleCount += 8;
    renderCars(currentList, visibleCount);
});



document.getElementById("btnOne").addEventListener("click", (e) => {
    currentList = dataCar;
    visibleCount = 8;
    renderCars(currentList, visibleCount);
    setActive(e.target);
    scrollToCars();
});

document.getElementById("btnTwo").addEventListener("click", (e) => {
    currentList = dataCar.filter(c => c.id === "Crossover");
    renderCars(currentList);
    setActive(e.target);
    scrollToCars();
});

document.getElementById("btnThere").addEventListener("click", (e) => {
    currentList = dataCar.filter(c => c.id === "Economy");
    renderCars(currentList);
    setActive(e.target);
    scrollToCars();
});

document.getElementById("btnFour").addEventListener("click", (e) => {
    currentList = dataCar.filter(c => c.id === "Business");
    renderCars(currentList);
    setActive(e.target);
    scrollToCars();
});

document.getElementById("btnFive").addEventListener("click", (e) => {
    currentList = dataCar.filter(c => c.id === "Premium");
    renderCars(currentList);
    setActive(e.target);
    scrollToCars();
});

document.getElementById("btnSix").addEventListener("click", (e) => {
    currentList = dataCar.filter(c => c.id === "Suv");
    renderCars(currentList);
    setActive(e.target);
    scrollToCars();
});

renderCars(dataCar, visibleCount);

const premiumCars = dataCar.filter(car => car.id === "Suv");

function renderHeroCars(list) {
    heroScroll.innerHTML = "";

    list.forEach(car => {
        const heroBox = document.createElement("div");
        heroBox.classList.add("heroBox");

        heroBox.innerHTML = `
            <img src="${car.img}" alt="${car.ad}">
            <h1>${car.ad}</h1>
            <h2>₼${car.priceThree} <span> / günü</span></h2>
            <button id="icareET">İcarə et</button>
        `;

        heroScroll.appendChild(heroBox);
    });
}

renderHeroCars(premiumCars);

const searchBox = document.querySelector(".search-box");
const textInput = searchBox.querySelector('input[type="text"]');
const dateInputs = searchBox.querySelectorAll('input[type="date"]');
const searchBtn = searchBox.querySelector(".btn");


searchBtn.addEventListener("click", () => {
    const carName = textInput.value.trim();
    const startDate = dateInputs[0].value;
    const endDate = dateInputs[1].value;

    if (!carName) {
        alert("⚠️ Maşın adını yazın");
        return;
    }

    if (!startDate || !endDate) {
        alert("⚠️ Tarixləri seçin");
        return;
    }

    const selectedCar = dataCar.find(c => c.ad.toLowerCase() === carName.toLowerCase());

    if (!selectedCar) {
        alert("❌ Uyğun maşın tapılmadı");
        return;
    }

    localStorage.setItem("rentedCar", JSON.stringify({
        id: selectedCar.id,
        ad: selectedCar.ad,
        img: selectedCar.img,
        priceOne: selectedCar.priceOne,
        priceTwo: selectedCar.priceTwo,
        priceThree: selectedCar.priceThree,
        gasoline: selectedCar.gasoline,
        startDate: startDate,
        endDate: endDate
    }));

    window.location.href = "rented.html";
});
